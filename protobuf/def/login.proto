syntax = "proto3";

option optimize_for = LITE_RUNTIME;

package Login;

// 1001
message Heartbeat {
  int64 player_id = 1;
  string message = 2;
}

// 1002
message LoginRequest {
  int64 player_id = 1;
  string token = 2;
}

// 1003
message LoginResponse {
  int64 player_id = 1;

  message ServiceInfo {
    int32 sid = 1;
    string name = 2;
  }

  repeated ServiceInfo services = 2;
}

// 1004
message LoginFailedResponse {
  int64 player_id = 1;
  string address = 2;

  enum Reason {
    FAILED_TO_PARSE = 0;
    VERIFY_TOKEN_FAIL = 1;
  }

  Reason reason = 3;
  string description = 4;
}

// 1005
message LoginRepeatedResponse {
  int64 player_id = 1;
  string other_address = 2;
  uint64 timepoint = 3;
}

// 1006
message PlatformInfo {
  int32 player_id = 1;
  string os_name = 2;
  string os_version = 3;
  string client_version = 4;
}

// 1007
message LogoutRequest {
  int64 player_id = 1;
}